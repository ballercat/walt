# Snapshot report for `src/generator/__tests__/memory-assignment-spec.js`

The actual snapshot is saved in `memory-assignment-spec.js.snap`.

Generated by [AVA](https://ava.li).

## generates correct offsets for arrays

> Snapshot 1

    [
      {
        kind: {
          code: 32,
          first: null,
          name: 'GetLocal',
          result: null,
          second: null,
          size: 0,
          text: 'get_local',
        },
        params: [
          0,
        ],
      },
      {
        kind: {
          code: 65,
          first: null,
          name: 'i32Const',
          result: 1,
          second: null,
          size: 0,
          text: 'i32.const',
        },
        params: [
          1,
        ],
      },
      {
        kind: {
          code: 65,
          first: null,
          name: 'i32Const',
          result: 1,
          second: null,
          size: 0,
          text: 'i32.const',
        },
        params: [
          4,
        ],
      },
      {
        kind: {
          code: 108,
          first: 1,
          name: 'i32Mul',
          result: 1,
          second: 1,
          size: 0,
          text: 'i32.mul',
        },
        params: [],
      },
      {
        kind: {
          code: 106,
          first: 1,
          name: 'i32Add',
          result: 1,
          second: 1,
          size: 0,
          text: 'i32.add',
        },
        params: [],
      },
      {
        kind: {
          code: 65,
          first: null,
          name: 'i32Const',
          result: 1,
          second: null,
          size: 0,
          text: 'i32.const',
        },
        params: [
          42,
        ],
      },
      {
        kind: {
          code: 54,
          first: 1,
          name: 'i32Store',
          result: null,
          second: 1,
          size: 4,
          text: 'i32.store',
        },
        params: [
          2,
          0,
        ],
      },
    ]

## generates correct offsets for user-defined objects

> Snapshot 1

    [
      {
        kind: {
          code: 32,
          first: null,
          name: 'GetLocal',
          result: null,
          second: null,
          size: 0,
          text: 'get_local',
        },
        params: [
          0,
        ],
      },
      {
        kind: {
          code: 65,
          first: null,
          name: 'i32Const',
          result: 1,
          second: null,
          size: 0,
          text: 'i32.const',
        },
        params: [
          4,
        ],
      },
      {
        kind: {
          code: 106,
          first: 1,
          name: 'i32Add',
          result: 1,
          second: 1,
          size: 0,
          text: 'i32.add',
        },
        params: [],
      },
      {
        kind: {
          code: 65,
          first: null,
          name: 'i32Const',
          result: 1,
          second: null,
          size: 0,
          text: 'i32.const',
        },
        params: [
          42,
        ],
      },
      {
        kind: {
          code: 54,
          first: 1,
          name: 'i32Store',
          result: null,
          second: 1,
          size: 4,
          text: 'i32.store',
        },
        params: [
          2,
          0,
        ],
      },
    ]

## unary negation, arrays

> Snapshot 1

    {
      Type: 'MemoryAssignment',
      meta: [],
      params: [
        {
          Type: 'ArraySubscript',
          meta: [
            {
              payload: 'i32',
              type: 'type/array',
            },
          ],
          params: [
            {
              Type: 'Identifier',
              meta: [
                {
                  payload: 0,
                  type: 'local/index',
                },
              ],
              params: [],
              range: [
                {
                  col: 0,
                  line: 1,
                },
                {
                  col: 1,
                  line: 1,
                },
              ],
              type: 'i32',
              value: 'x',
            },
            {
              Type: 'Constant',
              meta: [],
              params: [],
              range: [
                {
                  col: 2,
                  line: 1,
                },
                {
                  col: 3,
                  line: 1,
                },
              ],
              type: 'i32',
              value: '0',
            },
          ],
          range: [
            undefined,
            {
              col: 4,
              line: 1,
            },
          ],
          type: 'i32',
          value: '[',
        },
        {
          Type: 'BinaryExpression',
          meta: [],
          params: [
            {
              Type: 'TypeCast',
              meta: [
                {
                  payload: {
                    from: 'i32',
                    to: 'f32',
                  },
                  type: 'type/cast',
                },
              ],
              params: [
                {
                  Type: 'BinaryExpression',
                  meta: [],
                  params: [
                    {
                      Type: 'BinaryExpression',
                      meta: [],
                      params: [
                        {
                          Type: 'Identifier',
                          meta: [
                            {
                              payload: 0,
                              type: 'local/index',
                            },
                          ],
                          params: [],
                          range: [
                            {
                              col: 9,
                              line: 1,
                            },
                            {
                              col: 10,
                              line: 1,
                            },
                          ],
                          type: 'i32',
                          value: 'x',
                        },
                        {
                          Type: 'BinaryExpression',
                          meta: [],
                          params: [
                            {
                              Type: 'Constant',
                              meta: [],
                              params: [],
                              range: [
                                {
                                  col: 13,
                                  line: 1,
                                },
                                {
                                  col: 14,
                                  line: 1,
                                },
                              ],
                              type: 'i32',
                              value: '7',
                            },
                            {
                              Type: 'Constant',
                              meta: [],
                              params: [],
                              range: [
                                {
                                  col: 17,
                                  line: 1,
                                },
                                {
                                  col: 20,
                                  line: 1,
                                },
                              ],
                              type: 'i32',
                              value: '200',
                            },
                          ],
                          range: [
                            undefined,
                            {
                              col: 21,
                              line: 1,
                            },
                          ],
                          type: 'i32',
                          value: '%',
                        },
                      ],
                      range: [
                        undefined,
                        {
                          col: 21,
                          line: 1,
                        },
                      ],
                      type: 'i32',
                      value: '*',
                    },
                    {
                      Type: 'Constant',
                      meta: [],
                      params: [],
                      range: [
                        {
                          col: 24,
                          line: 1,
                        },
                        {
                          col: 27,
                          line: 1,
                        },
                      ],
                      type: 'i32',
                      value: '100',
                    },
                  ],
                  range: [
                    undefined,
                    {
                      col: 28,
                      line: 1,
                    },
                  ],
                  type: 'i32',
                  value: '-',
                },
              ],
              range: [
                undefined,
                {
                  col: 28,
                  line: 1,
                },
              ],
              type: 'f32',
              value: '-',
            },
            {
              Type: 'Constant',
              meta: [],
              params: [],
              range: [
                {
                  col: 31,
                  line: 1,
                },
                {
                  col: 36,
                  line: 1,
                },
              ],
              type: 'f32',
              value: '100.0',
            },
          ],
          range: [
            undefined,
            {
              col: 36,
              line: 1,
            },
          ],
          type: 'f32',
          value: '/',
        },
      ],
      range: [
        undefined,
        {
          col: 36,
          line: 1,
        },
        {
          col: 36,
          line: 1,
        },
      ],
      type: 'i32',
      value: '=',
    }
